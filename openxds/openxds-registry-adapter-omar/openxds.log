2016-11-30 14:06:58,545 WARN  [net.sf.hibernate.cfg.SettingsFactory] Could not obtain connection metadata
org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at net.sf.hibernate.connection.DriverManagerConnectionProvider.getConnection(DriverManagerConnectionProvider.java:101)
	at net.sf.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:73)
	at net.sf.hibernate.cfg.Configuration.buildSettings(Configuration.java:1155)
	at net.sf.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:789)
	at org.freebxml.omar.server.repository.hibernate.RepositoryHibernateUtil.getConfiguration(RepositoryHibernateUtil.java:165)
	at org.freebxml.omar.server.repository.hibernate.RepositoryHibernateUtil.<init>(RepositoryHibernateUtil.java:47)
	at org.freebxml.omar.server.repository.hibernate.RepositoryHibernateUtil.getInstance(RepositoryHibernateUtil.java:55)
	at org.freebxml.omar.server.repository.hibernate.HibernateRepositoryManager.<init>(HibernateRepositoryManager.java:78)
	at org.freebxml.omar.server.repository.hibernate.HibernateRepositoryManager.getInstance(HibernateRepositoryManager.java:99)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.freebxml.omar.server.repository.RepositoryManagerFactory.createPluginInstance(RepositoryManagerFactory.java:86)
	at org.freebxml.omar.server.repository.RepositoryManagerFactory.getRepositoryManager(RepositoryManagerFactory.java:51)
	at org.freebxml.omar.server.query.QueryManagerImpl.<init>(QueryManagerImpl.java:111)
	at org.freebxml.omar.server.query.QueryManagerImpl.getInstance(QueryManagerImpl.java:149)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.freebxml.omar.common.spi.QueryManagerFactory.createPluginInstance(QueryManagerFactory.java:87)
	at org.freebxml.omar.common.spi.QueryManagerFactory.getQueryManager(QueryManagerFactory.java:49)
	at org.freebxml.omar.server.repository.AbstractRepositoryManager.<clinit>(AbstractRepositoryManager.java:61)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:264)
	at org.freebxml.omar.server.repository.RepositoryManagerFactory.createPluginInstance(RepositoryManagerFactory.java:75)
	at org.freebxml.omar.server.repository.RepositoryManagerFactory.getRepositoryManager(RepositoryManagerFactory.java:51)
	at org.freebxml.omar.server.query.QueryManagerImpl.<init>(QueryManagerImpl.java:111)
	at org.freebxml.omar.server.query.QueryManagerImpl.getInstance(QueryManagerImpl.java:149)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.freebxml.omar.common.spi.QueryManagerFactory.createPluginInstance(QueryManagerFactory.java:87)
	at org.freebxml.omar.common.spi.QueryManagerFactory.getQueryManager(QueryManagerFactory.java:49)
	at org.freebxml.omar.server.common.ServerRequestContext.<clinit>(ServerRequestContext.java:88)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:469)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.freebxml.omar.server.lcm.LifeCycleManagerImpl.<init>(LifeCycleManagerImpl.java:95)
	at org.freebxml.omar.server.lcm.LifeCycleManagerImpl.getInstance(LifeCycleManagerImpl.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.freebxml.omar.common.spi.LifeCycleManagerFactory.createPluginInstance(LifeCycleManagerFactory.java:88)
	at org.freebxml.omar.common.spi.LifeCycleManagerFactory.getLifeCycleManager(LifeCycleManagerFactory.java:50)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryLifeCycleServiceImpl.<clinit>(XdsRegistryLifeCycleServiceImpl.java:59)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryLifeCycleServiceTest.<clinit>(XdsRegistryLifeCycleServiceTest.java:76)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at junit.framework.TestSuite.createTest(TestSuite.java:61)
	at junit.framework.TestSuite.addTestMethod(TestSuite.java:283)
	at junit.framework.TestSuite.<init>(TestSuite.java:146)
	at org.junit.internal.runners.JUnit38ClassRunner.<init>(JUnit38ClassRunner.java:69)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.junit.internal.requests.ClassRequest.buildRunner(ClassRequest.java:33)
	at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:28)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:262)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 79 more
2016-11-30 14:06:58,921 ERROR [org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl] Internal error. Could not load predefined users.
javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.freebxml.omar.server.lcm.LifeCycleManagerImpl.<init>(LifeCycleManagerImpl.java:95)
	at org.freebxml.omar.server.lcm.LifeCycleManagerImpl.getInstance(LifeCycleManagerImpl.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.freebxml.omar.common.spi.LifeCycleManagerFactory.createPluginInstance(LifeCycleManagerFactory.java:88)
	at org.freebxml.omar.common.spi.LifeCycleManagerFactory.getLifeCycleManager(LifeCycleManagerFactory.java:50)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryLifeCycleServiceImpl.<clinit>(XdsRegistryLifeCycleServiceImpl.java:59)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryLifeCycleServiceTest.<clinit>(XdsRegistryLifeCycleServiceTest.java:76)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at junit.framework.TestSuite.createTest(TestSuite.java:61)
	at junit.framework.TestSuite.addTestMethod(TestSuite.java:283)
	at junit.framework.TestSuite.<init>(TestSuite.java:146)
	at org.junit.internal.runners.JUnit38ClassRunner.<init>(JUnit38ClassRunner.java:69)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.junit.internal.requests.ClassRequest.buildRunner(ClassRequest.java:33)
	at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:28)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:262)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 39 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 49 more
2016-11-30 14:06:58,930 ERROR [org.freebxml.omar.common.spi.LifeCycleManagerFactory] [LifeCycleManager] Cannot instantiate LifeCycleManager plugin class named: 'org.freebxml.omar.server.lcm.LifeCycleManagerImpl'. Please check that property 'omar.common.LifeCycleManagerFactory.lifeCycleManagerClass' is correctly set in omar-common.properties file.
java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.freebxml.omar.common.spi.LifeCycleManagerFactory.createPluginInstance(LifeCycleManagerFactory.java:88)
	at org.freebxml.omar.common.spi.LifeCycleManagerFactory.getLifeCycleManager(LifeCycleManagerFactory.java:50)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryLifeCycleServiceImpl.<clinit>(XdsRegistryLifeCycleServiceImpl.java:59)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryLifeCycleServiceTest.<clinit>(XdsRegistryLifeCycleServiceTest.java:76)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at junit.framework.TestSuite.createTest(TestSuite.java:61)
	at junit.framework.TestSuite.addTestMethod(TestSuite.java:283)
	at junit.framework.TestSuite.<init>(TestSuite.java:146)
	at org.junit.internal.runners.JUnit38ClassRunner.<init>(JUnit38ClassRunner.java:69)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.junit.internal.requests.ClassRequest.buildRunner(ClassRequest.java:33)
	at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:28)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:262)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.reflect.UndeclaredThrowableException
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:98)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.freebxml.omar.server.lcm.LifeCycleManagerImpl.<init>(LifeCycleManagerImpl.java:95)
	at org.freebxml.omar.server.lcm.LifeCycleManagerImpl.getInstance(LifeCycleManagerImpl.java:127)
	... 28 more
Caused by: javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	... 31 more
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 39 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 49 more
2016-11-30 14:06:59,230 ERROR [org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl] Internal error. Could not load predefined users.
javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryLifeCycleServiceImpl.submitObjects(XdsRegistryLifeCycleServiceImpl.java:74)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryLifeCycleServiceTest.testSubmitObjects(XdsRegistryLifeCycleServiceTest.java:90)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 30 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 40 more
2016-11-30 14:06:59,273 ERROR [org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl] Internal error. Could not load predefined users.
javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryLifeCycleServiceImpl.approveObjects(XdsRegistryLifeCycleServiceImpl.java:114)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryLifeCycleServiceTest.testApproveObjects(XdsRegistryLifeCycleServiceTest.java:114)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 30 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 40 more
2016-11-30 14:06:59,322 ERROR [org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl] Internal error. Could not load predefined users.
javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryLifeCycleServiceImpl.deprecateObjects(XdsRegistryLifeCycleServiceImpl.java:143)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryLifeCycleServiceTest.testDeprecateObjects(XdsRegistryLifeCycleServiceTest.java:139)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 30 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 40 more
2016-11-30 14:06:59,365 ERROR [org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl] Internal error. Could not load predefined users.
javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceImpl.storedQuery(XdsRegistryQueryServiceImpl.java:83)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceTest.testFindDocuments(XdsRegistryQueryServiceTest.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 30 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 40 more
2016-11-30 14:06:59,366 ERROR [org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl] Internal error. Could not load predefined users.
javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceImpl.storedQuery(XdsRegistryQueryServiceImpl.java:83)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceTest.testFindFolders(XdsRegistryQueryServiceTest.java:98)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 30 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 40 more
2016-11-30 14:06:59,368 ERROR [org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl] Internal error. Could not load predefined users.
javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceImpl.storedQuery(XdsRegistryQueryServiceImpl.java:83)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceTest.testFindSubmissionSets(XdsRegistryQueryServiceTest.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 30 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 40 more
2016-11-30 14:06:59,372 ERROR [org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl] Internal error. Could not load predefined users.
javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceImpl.storedQuery(XdsRegistryQueryServiceImpl.java:83)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceTest.testGetDocuments(XdsRegistryQueryServiceTest.java:174)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 30 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 40 more
2016-11-30 14:06:59,382 ERROR [org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl] Internal error. Could not load predefined users.
javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceImpl.storedQuery(XdsRegistryQueryServiceImpl.java:83)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceTest.testGetFolders(XdsRegistryQueryServiceTest.java:198)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 30 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 40 more
2016-11-30 14:06:59,405 ERROR [org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl] Internal error. Could not load predefined users.
javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceImpl.storedQuery(XdsRegistryQueryServiceImpl.java:83)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceTest.testGetAssociations(XdsRegistryQueryServiceTest.java:219)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 30 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 40 more
2016-11-30 14:06:59,415 ERROR [org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl] Internal error. Could not load predefined users.
javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceImpl.storedQuery(XdsRegistryQueryServiceImpl.java:83)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceTest.testGetSubmissionSets(XdsRegistryQueryServiceTest.java:264)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 30 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 40 more
2016-11-30 14:06:59,419 ERROR [org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl] Internal error. Could not load predefined users.
javax.xml.registry.RegistryException: Error: Could not create Connection to database. Check if database is already running in another program (e.g. registry servlet in tomcat)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:308)
	at org.freebxml.omar.server.common.ServerRequestContext.getConnection(ServerRequestContext.java:638)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.executeSQLQuery(SQLPersistenceManagerImpl.java:914)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiablesMatchingQuery(SQLPersistenceManagerImpl.java:1147)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiableMatchingQuery(SQLPersistenceManagerImpl.java:1178)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getIdentifiable(SQLPersistenceManagerImpl.java:1221)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getRegistryObject(SQLPersistenceManagerImpl.java:1199)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.loadPredefinedUsers(AuthenticationServiceImpl.java:470)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.<init>(AuthenticationServiceImpl.java:94)
	at org.freebxml.omar.server.security.authentication.AuthenticationServiceImpl.getInstance(AuthenticationServiceImpl.java:247)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceImpl.storedQuery(XdsRegistryQueryServiceImpl.java:83)
	at org.openhealthtools.openxds.registry.adapter.omar31.XdsRegistryQueryServiceTest.testGetFoldersForDocument(XdsRegistryQueryServiceTest.java:340)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:123)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc4.AbstractJdbc4Connection.<init>(AbstractJdbc4Connection.java:29)
	at org.postgresql.jdbc4.Jdbc4Connection.<init>(Jdbc4Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at org.freebxml.omar.server.persistence.rdb.SQLPersistenceManagerImpl.getConnection(SQLPersistenceManagerImpl.java:296)
	... 30 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at java.net.Socket.<init>(Socket.java:434)
	at java.net.Socket.<init>(Socket.java:211)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:77)
	... 40 more
